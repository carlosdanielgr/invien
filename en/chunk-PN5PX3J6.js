import{a as V}from"./chunk-VD3LTSIQ.js";import{b as G}from"./chunk-ZH77OLAJ.js";import{a as $}from"./chunk-AJN2I6PP.js";import{a as L}from"./chunk-WPLGPZ2J.js";import"./chunk-AFUDEXJR.js";import{a as J,b as k}from"./chunk-MFZ6ZOJ4.js";import{k as A}from"./chunk-L25NALGY.js";import{$a as T,Eb as h,Fb as b,Jb as v,Kb as x,Lb as I,Nb as f,Pa as c,Qa as E,a as O,bb as C,c as y,da as P,eb as S,fb as j,hb as R,ib as F,jb as r,kb as o,lb as g,ma as m,na as d,ob as w,ta as N,ub as _,wb as l,xb as M}from"./chunk-UJLB5NHQ.js";var X=(()=>{class t{constructor(){this.newFilter=new N(),this.currentFilters={};}onSetFilterPrice(e,n){this.currentFilters[`${n}Price`]=e;}onSearch(){this.newFilter.emit(this.currentFilters);}static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵcmp=P({type:t,selectors:[["app-project-filter"]],outputs:{newFilter:"newFilter"},standalone:!0,features:[f],decls:13,vars:1,consts:()=>{let e;return e="Search",[["min",""],["max",""],e,[1,"property-filter"],[1,"col",3,"currentFiltersChange","currentFilters"],[1,"dropdown","col","property-filter__price"],[1,"property-filter__btn-toggle"],[1,"input-group"],["type","number","placeholder","Min",1,"form-control",3,"input"],["type","number","placeholder","Max",1,"form-control",3,"input"],[1,"d-flex","align-items-center","property-filter__btn-search"],["type","button",1,"btn","btn-invien","px-4",3,"click"]];},template:function(n,i){if(n&1){let p=w();r(0,"form",3)(1,"app-locations-filter",4),I("currentFiltersChange",function(s){return m(p),x(i.currentFilters,s)||(i.currentFilters=s),d(s);}),r(2,"div",5)(3,"label",6),b(4,"Precio desde"),o(),r(5,"div",7)(6,"input",8,0),l("input",function(){m(p);let s=h(7);return d(i.onSetFilterPrice(s.value,"min"));}),o(),r(8,"input",9,1),l("input",function(){m(p);let s=h(9);return d(i.onSetFilterPrice(s.value,"max"));}),o()()()(),r(10,"div",10)(11,"button",11),l("click",function(){return m(p),d(i.onSearch());}),_(12,2),o()()();}n&2&&(c(),v("currentFilters",i.currentFilters));},dependencies:[G],styles:[".property-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;border-radius:.5rem;margin-top:1rem;max-width:1200px;background-color:#fff}@media screen and (min-width: 992px){.property-filter[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}}.property-filter__price[_ngcontent-%COMP%]{padding-right:1rem;text-align:start;flex-basis:20%}.property-filter__price[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:0}.property-filter__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:1.5rem;background-color:transparent;padding:0 .2rem}.property-filter__price[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:.8rem}.property-filter__btn-search[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 992px){.property-filter__btn-search[_ngcontent-%COMP%]{justify-content:flex-end}.property-filter__btn-search[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:fit-content}}"]});}}return t;})();function D(t,u){if(t&1&&g(0,"app-project",13),t&2){let e=u.$implicit;C("project",e);}}function B(t,u){if(t&1&&R(0,D,1,1,"app-project",13,j),t&2){let e=M();F(e.projects);}}function W(t,u){t&1&&g(0,"app-property-skeleton")(1,"app-property-skeleton")(2,"app-property-skeleton")(3,"app-property-skeleton")(4,"app-property-skeleton")(5,"app-property-skeleton");}function Z(t,u){if(t&1&&g(0,"app-no-data",11),t&2){let e=M();C("message",e.noProjects);}}var pe=(()=>{class t{constructor(e,n){this.projectService=e,this.activatedRoute=n,this.projects=[],this.loading=!1,this.urlParams=this.activatedRoute.snapshot.queryParams,this.noProjects="No projects available";}ngOnInit(){this.onGetProjects({page:1});}onGetProjects(e){this.loading=!0,this.projectService.getProjectsPaginate(O(O({page:this.pagination?.page},this.urlParams),e)).subscribe({next:n=>{let a=n,{data:i}=a,p=y(a,["data"]);this.projects=i,this.pagination||(this.pagination=p),this.loading=!1;},error:n=>{this.loading=!1;}});}static{this.ɵfac=function(n){return new(n||t)(E(L),E(A));};}static{this.ɵcmp=P({type:t,selectors:[["app-projects"]],standalone:!0,features:[f],decls:16,vars:3,consts:()=>{let e;e="Projects";let n;n="START INVESTING";let i;return i="Real Estate Projects",[e,n,i,[1,"properties"],[1,"properties__main","main"],[1,"properties__filter","section","pb-5"],[1,"subtitle"],[1,"title"],[3,"newFilter"],[1,"section","pt-0"],[1,"properties__list"],[3,"message"],[3,"params","pagination"],[3,"project"]];},template:function(n,i){n&1&&(r(0,"article",3)(1,"div",4)(2,"h1"),_(3,0),o()(),r(4,"div",5)(5,"span",6),_(6,1),o(),r(7,"h2",7),_(8,2),o(),r(9,"app-project-filter",8),l("newFilter",function(a){return i.onGetProjects(a);}),o()(),r(10,"div",9)(11,"div",10),T(12,B,2,0)(13,W,6,0),o(),T(14,Z,1,1,"app-no-data",11),r(15,"app-pagination",12),l("params",function(a){return i.onGetProjects(a);}),o()()()),n&2&&(c(12),S(12,i.loading?13:12),c(2),S(14,!i.projects.length&&!i.loading?14:-1),c(),C("pagination",i.pagination));},dependencies:[X,$,k,V,J],styles:['.properties__main[_ngcontent-%COMP%]{background-image:url("./media/projects-BPDQ57KT.png")}.properties__filter[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.properties__list[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(min(100%,300px),1fr));max-width:1100px;margin:0 auto}']});}}return t;})();export{pe as ProjectsComponent};/**i18n:3955709bc36bd0ba7669313c1f79c91fc715c30fb3d7aaf5d8030353cbc277bc*/