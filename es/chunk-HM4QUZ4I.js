import{a as L}from"./chunk-JC3V2RUJ.js";import{a as w,b as F,c as G}from"./chunk-25ATVCOM.js";import{h as A,o as z}from"./chunk-F24QB764.js";import{$a as a,Ga as p,Ha as h,Ra as S,Ta as s,Ua as b,V as O,Va as T,W as P,Wa as N,Xa as I,Ya as d,Za as u,_a as r,a as E,ab as l,c as y,da as M,db as x,ea as v,ib as f,ka as R,kb as _,lb as c,sb as k,ub as $,yb as C}from"./chunk-AYB3CGNA.js";function j(i,m){if(i&1){let e=x();r(0,"button",6),_("click",function(){let n=M(e).$implicit,o=c();return v(o.goToPage(n));}),k(1),a();}if(i&2){let e=m.$implicit,t=c();b("pagination__num--active",t.currentPage===e),p(),$(" ",e," ");}}var X=(()=>{class i{set changePagination(e){this.pagination=e,this.setTotalPages();}constructor(){this.params=new R(),this.totalPages=0,this.currentPage=1;}setTotalPages(){if(!this.pagination)return;let{total:e,limit:t}=this.pagination;this.totalPages=Math.ceil(e/t);}goToPage(e){this.currentPage=e,this.getPropertyPaginate();}nextPage(){this.currentPage<this.totalPages&&this.currentPage++,this.getPropertyPaginate();}previousPage(){this.currentPage>1&&this.currentPage--,this.getPropertyPaginate();}getPropertyPaginate(){this.params.emit({page:this.currentPage});}get visiblePages(){let e=Math.max(this.currentPage-1,1),t=Math.min(e+2,this.totalPages);return t-e<2&&(e=Math.max(t-2,1)),Array.from({length:t-e+1},(n,o)=>e+o);}static{this.ɵfac=function(t){return new(t||i)();};}static{this.ɵcmp=P({type:i,selectors:[["app-pagination"]],inputs:{changePagination:[O.None,"pagination","changePagination"]},outputs:{params:"params"},standalone:!0,features:[C],decls:8,vars:2,consts:[[1,"pagination"],["type","button",1,"btn","carousel-btn",3,"click","disabled"],[1,"bi","bi-arrow-left"],[1,"pagination__buttons"],["type","button",1,"btn","pagination__num",3,"pagination__num--active"],[1,"bi","bi-arrow-right"],["type","button",1,"btn","pagination__num",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"button",1),_("click",function(){return n.previousPage();}),l(2,"i",2),a(),r(3,"div",3),d(4,j,2,3,"button",4,I),a(),r(6,"button",1),_("click",function(){return n.nextPage();}),l(7,"i",5),a()()),t&2&&(p(),s("disabled",!n.pagination||n.currentPage===1),p(3),u(n.visiblePages),p(2),s("disabled",!n.pagination||n.currentPage===n.totalPages));},styles:[".pagination[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;align-items:center;padding:3rem 0 0}.pagination__buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;justify-content:center}.pagination__num[_ngcontent-%COMP%]{cursor:pointer;padding:.2rem .75rem;border-radius:50%}.pagination__num--active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff}"]});}}return i;})();function V(i,m){if(i&1&&l(0,"app-property",13),i&2){let e=m.$implicit;s("property",e);}}function B(i,m){if(i&1&&d(0,V,1,1,"app-property",13,N),i&2){let e=c();u(e.properties);}}function q(i,m){i&1&&l(0,"app-property-skeleton")(1,"app-property-skeleton")(2,"app-property-skeleton")(3,"app-property-skeleton")(4,"app-property-skeleton")(5,"app-property-skeleton");}function U(i,m){if(i&1&&l(0,"app-no-data",11),i&2){let e=c();s("message",e.noProperties);}}var re=(()=>{class i{constructor(e,t){this.propertyService=e,this.activatedRoute=t,this.properties=[],this.loading=!1,this.urlParams=this.activatedRoute.snapshot.queryParams,this.noProperties="No hay propiedades disponibles";}ngOnInit(){this.onGetProperties({page:1});}onGetProperties(e){this.loading=!0,this.propertyService.getPropertiesPaginate(E(E({page:this.pagination?.page},this.urlParams),e)).subscribe({next:t=>{let g=t,{data:n}=g,o=y(g,["data"]);this.properties=n,this.pagination||(this.pagination=o),this.loading=!1;},error:t=>{this.loading=!1;}});}static{this.ɵfac=function(t){return new(t||i)(h(z),h(A));};}static{this.ɵcmp=P({type:i,selectors:[["app-properties"]],standalone:!0,features:[C],decls:16,vars:3,consts:()=>{let e;e="Propiedades";let t;t="Comienza a invertir";let n;return n=" Propiedades Seleccionadas ",[e,t,n,[1,"properties"],[1,"properties__main","main"],[1,"properties__filter","section","pb-5"],[1,"subtitle"],[1,"title"],[3,"newFilter"],[1,"section","pt-0"],[1,"properties__list"],[3,"message"],[3,"params","pagination"],[3,"property"]];},template:function(t,n){t&1&&(r(0,"article",3)(1,"div",4)(2,"h1"),f(3,0),a()(),r(4,"div",5)(5,"span",6),f(6,1),a(),r(7,"h2",7),f(8,2),a(),r(9,"app-property-filter",8),_("newFilter",function(g){return n.onGetProperties(g);}),a()(),r(10,"div",9)(11,"div",10),S(12,B,2,0)(13,q,6,0),a(),S(14,U,1,1,"app-no-data",11),r(15,"app-pagination",12),_("params",function(g){return n.onGetProperties(g);}),a()()()),t&2&&(p(12),T(12,n.loading?13:12),p(2),T(14,!n.properties.length&&!n.loading?14:-1),p(),s("pagination",n.pagination));},dependencies:[L,F,G,X,w],styles:['.properties__main[_ngcontent-%COMP%]{background-image:url("./media/properties-IST6UVB3.png")}.properties__filter[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;text-align:center}.properties__list[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(min(100%,300px),1fr));max-width:1100px;margin:0 auto}']});}}return i;})();export{re as PropertiesComponent};/**i18n:b9d26eb179ccae765049b6e76931e3a5bd757a59bcb43f86fa5027b91ddc3155*/